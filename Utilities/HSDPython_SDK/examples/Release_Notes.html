<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Release Notes for HSDatalog Python SDK</title>
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <link rel="stylesheet" href="_htmresc/mini-st_2020.css" />
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/x-icon" href="_htmresc/favicon.png" />
</head>
<body>
<div class="row">
<div class="col-sm-12 col-lg-4">
<center>
<h1 id="release-notes-for-hsdatalog-python-sdk">Release Notes for <mark>HSDatalog Python SDK</mark></h1>
<p>Copyright © 2023 STMicroelectronics</p>
<a href="https://www.st.com" class="logo"><img src="_htmresc/st_logo_2020.png" alt="ST logo" /></a>
</center>
<h1 id="purpose">Purpose</h1>
<p>The High-Speed DataLog firmware provides an easy way to save data from any combination of sensors and microphones configured at their maximum sampling rate. Sensor data can be either stored on a micro SD Card, SDHC (Secure Digital High Capacity) formatted with the FAT32 file system, or streamed to a PC via USB (WinUSB class).</p>
<p>This folder contains different Python scripts and classes that can be used to handle the datasets obtained by the HSDatalog firmware.</p>
</div>
<div class="col-sm-12 col-lg-8">
<h1 id="update-history">Update History</h1>
<div class="collapse">
<input type="checkbox" id="collapse-section14" checked aria-hidden="true"> <label for="collapse-section14" aria-hidden="true">v3.1.0 / 27-Nov-23</label>
<div>
<h2 id="main-changes">Main Changes</h2>
<h3 id="maintenance-release-and-product-update">Maintenance release and product update</h3>
<ul>
<li>HOTFIX: missing acq_folder arguments passed to converter functions</li>
<li>Added export data by tags example in nb_hsdatalog_converters notebook</li>
<li>Removed default “-s all” from hsdatalog_to_wav.py</li>
<li>code cleaning (unused import removed)</li>
<li>Bug fixed and updates in st_dtdl_gui
<ul>
<li>HOTFIX: added missing resolution attribute</li>
<li>HOTFIX: dBFS renamed into Waveform</li>
<li>HOTFIX: reverted wrong start_time_spinbox delete</li>
<li>Improved widgets and plots for MotorControl</li>
<li>Added interface ==3 in s_is_logging interface check (3 = Serial)</li>
<li>Added new plot params classes and widgets for presence, light, distance and motion sensors</li>
<li>Managing two-level nested Object Properties and sub-sub property management in ComponentWidget</li>
<li>Changed widget_device_config from a QFrame to QWidget</li>
<li>Added support for float type: managed as a double</li>
<li>RadioButton Style updated</li>
<li>Redesigned AutoMode and TagsInfo components layouts</li>
</ul></li>
<li>Bug fixed and updates in st_hsdatalog
<ul>
<li>HSD
<ul>
<li>HOTFIX: default param in convert_dat_to_txt_by_tags API (which_tags = None)</li>
<li>HOTFIX: ISPU Offline plot management fixed</li>
<li>Fix Slow and Fast MC telemetries offline Plots</li>
<li>Redesigned get_sensor_plot function</li>
<li>Added plots for light, presence and distance sensors</li>
<li>Added the possibility to filter by tag when converting data</li>
</ul></li>
<li>HSD_GUI
<ul>
<li>Improved MotorControl, light, presence and distance plots (aligned to st_dtdl_gui)</li>
</ul></li>
<li>HSD_link
<ul>
<li>HOTFIX: board_id and fw_id parsed as hex from uploaded device_config.json</li>
<li>Updated libhs_datalog_v2</li>
</ul></li>
</ul></li>
<li>Bug fixed and updates in st_pnpl
<ul>
<li>Renaming Device template files respecting defined naming conventions (where applicable)</li>
<li>Updated local USB catalog with new supported devices</li>
<li>Upgraded DTMs and updated FW ID supported</li>
</ul></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section13" aria-hidden="true"> <label for="collapse-section13" aria-hidden="true">v3.0.0 / 29-Sep-23</label>
<div>
<h2 id="main-changes-1">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-1">Maintenance release and product update</h3>
<ul>
<li>Redesigned Linux Setup files and README</li>
<li>Examples updated catching MissingISPUOutputDescriptorException exception</li>
<li>set_rtc function defined</li>
<li>Examples updated with: -v –&gt; script version, -cdm –&gt; custom device template upload</li>
<li>Manage WrongDeviceConfigFile in Python CLI example. (Issue #4 on GitHub)</li>
<li>Removed app_debug_log file generation by default (enable/disable selection moved in Connection page)</li>
<li>Bug fixed and updates in st_dtdl_gui
<ul>
<li>Added new widgets</li>
<li>ComponentWidget and CommandWidget updated to manage responses</li>
<li>Added application log file toggle button</li>
<li>dtmi component identifier key parse method updated</li>
<li>Fixed Waveform unit</li>
</ul></li>
<li>Bug fixed and updates in st_hsdatalog
<ul>
<li>HSD
<ul>
<li>Dataframes extraction for all sensor categories management</li>
<li>Enum in values conversion for non MEMS sensors</li>
<li>Measured ODR used instead of nominal ODR if available</li>
<li>Fixed acquisitions chunk processing when spts == 0</li>
<li>Updated “sensors” key parse method and sensitivity value retrieve</li>
<li>Fixed plot for ISPU when output description file is not loaded and added missing time arg in __get_mems_columns_names</li>
</ul></li>
<li>HSD_GUI
<ul>
<li>Selectable Acquisition folder in HSDLogControlWidget</li>
<li>Redesigned AutoMode management</li>
<li>Hide Component Widget hidden when no status received.</li>
</ul></li>
<li>HSD_link
<ul>
<li>Updated DLL</li>
<li>Add PnPL response management for SET and COMMANDS</li>
<li>Add switch_bank API</li>
<li>Manage WrongDeviceConfigFile in Python CLI example. (Issue #4 on GitHub)</li>
<li>Debug prints aligned with application log messages</li>
</ul></li>
<li>HSD utils
<ul>
<li>Add WrongDeviceConfigFile exception. (Issue #4 on GitHub)</li>
<li>Added new dtm.py file with function to upload a custom DTM</li>
<li>Updated MissingDeviceModelError, added get_datetime, MissingISPUOutputDescriptorException and UnsupportedSensorCategoryError exception class</li>
</ul></li>
</ul></li>
<li>Buf fixed and updates in st_pnpl
<ul>
<li>Updated local USB catalog with new supported devices</li>
<li>Upgraded DTMs and updated FW ID supported</li>
<li>Added response field management for Commands in device_template_model.py</li>
<li>Added Mounted Property for external sensors</li>
</ul></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section12" aria-hidden="true"> <label for="collapse-section12" aria-hidden="true">v2.2.1 / 11-Aug-23</label>
<div>
<h2 id="main-changes-2">Main Changes</h2>
<h3 id="patch-release">Patch release</h3>
<ul>
<li>Included DATALOG2 v1.2.1 patch in local USB catalog</li>
<li>Rebuilt st_hsdatalog and st_pnpl wheels to handle DATALOG2 patch</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section11" aria-hidden="true"> <label for="collapse-section11" aria-hidden="true">v2.2.0 / 7-Jul-23</label>
<div>
<h2 id="main-changes-3">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-2">Maintenance release and product update</h3>
<ul>
<li>Reshaped hsdatalog_to_unico script to convert any kind of sensor</li>
<li>Fixed hsdatalog_cli
<ul>
<li>Added support to ISPU</li>
<li>Fix ucf_file saving</li>
<li>Added application logs information</li>
</ul></li>
<li>Minor bug fix, code cleaning and UI optimization in hsdatalog_GUI and ultrasound_fft_app</li>
<li>Bug fixed and updates in st_dtdl_gui
<ul>
<li>Added new widgets</li>
<li>Fixed PropertyWidget and SubPropertyWidget</li>
<li>Disabled not used pyqtgraph right click menu</li>
<li>Support for new DTDL Properties fields:
<ul>
<li>min_value, max_value, decimal_places, false_name, true_name, max_length, min_length</li>
</ul></li>
<li>Simplified PlotWidgets input params</li>
<li>Reshaped error messages in DeviceConfigPage and in ConnectionWidget</li>
<li>Added support for ISPU in DataClass</li>
<li>Updated DataReader and redesigned STDTDL_Controller</li>
</ul></li>
<li>Bug fixed and updates in st_hsdatalog
<ul>
<li>HSD
<ul>
<li>Added “part_number” key management in firmware info component for DATALOG2</li>
<li>Added “model” and “bleMacAddress” keys in DeviceConfig for DATALOG1</li>
<li>Bug fixed in dataframes plots</li>
<li>Added support for next-gen Sensor categories (SMv3)</li>
<li>Fixed application logger initialization and ISPU management</li>
<li>Redesigned Algorithm and Sensors with spts=0 data extraction</li>
</ul></li>
<li>HSD_GUI
<ul>
<li>Removed USB,SD interface selection combobox</li>
<li>Redesigned tags management and TagsInfo Widget</li>
<li>New Automatic Logging Mode feature support (AutoMode)</li>
<li>Fixed application logger initialization and reshaped error management</li>
<li>New empty data error notification in GUI</li>
<li>Support for ISPU in live plots</li>
</ul></li>
<li>HSD_link
<ul>
<li>Increased USB Endpoint buffer length (in DLL)</li>
<li>Upgraded DATALOG2 DLLs and updated HSDLink Factory</li>
<li>Fixed support for Raspberry</li>
<li>Fixed folder name for DATALOG1</li>
<li>ISPU management APIs</li>
</ul></li>
</ul></li>
<li>Buf fixed and updates in st_pnpl
<ul>
<li>Updated local USB catalog with new supported devices</li>
<li>Upgraded DTMs and updated FW ID supported</li>
<li>Added function to create get_identity PnPL message</li>
</ul></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section10" aria-hidden="true"> <label for="collapse-section10" aria-hidden="true">v2.1.0 / 24-Mar-23</label>
<div>
<h2 id="main-changes-4">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-3">Maintenance release and product update</h3>
<ul>
<li>Refactored HSDPython_SDK Install/uninstall batch scripts</li>
<li>Fixed setup issues in Linux environment</li>
<li>st_pnpl local USB catalog updated with new supported devices (Sensortile.box PRO)</li>
<li>Fixed hsdatalog_cli.py acquisitions output path selection</li>
<li>Fixed algorithm plot widget used by Ultrasound FFT GUI</li>
<li>Fixed sensor plot widget for low ODR and samples_per_ts=0</li>
<li>Fixed convert_dat_to_unico method to manage also gyro data and filter MLC sensor type</li>
<li>Updated HSDv2 DLL v3.1.0</li>
<li>Packages refactoring focusing on GUI modules inheritance for Custom GUI creation.</li>
<li>New st_dtdl_gui Widgets: PlotsArrayWidget, AnalogGaugeWidget, LevelWidget</li>
<li>New Plots hierarchy</li>
<li>Plot settings section:
<ul>
<li>Wav converter/player for mic sensors</li>
<li>FFT filtering zones and peak reveal</li>
<li>ISPU output format spec file upload</li>
</ul></li>
<li>New GUI Examples to manage AI outputs and Motor Control telemetries</li>
<li>Solved pandas v2.0.0 compatibility issue</li>
<li>PySide6 version fixed to 6.4.3 (pyqtgraph issues in PySide6 v6.5.0)</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section9" aria-hidden="true"> <label for="collapse-section9" aria-hidden="true">v2.0.1 / 14-Feb-23</label>
<div>
<h2 id="main-changes-5">Main Changes</h2>
<h3 id="patch-release-1">Patch release</h3>
<ul>
<li>Fixed toNanoedge converter and offline plot data for dummy data</li>
<li>Updated device models</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section8" aria-hidden="true"> <label for="collapse-section8" aria-hidden="true">v2.0.0 / 30-Sep-22</label>
<div>
<h2 id="main-changes-6">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-4">Maintenance release and product update</h3>
<ul>
<li>Added support for both DATALOG1 and DATALOG2</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section7" aria-hidden="true"> <label for="collapse-section7" aria-hidden="true">v1.4.0 / 8-Jul-2022</label>
<div>
<h2 id="main-changes-7">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-5">Maintenance release and product update</h3>
<ul>
<li>Added support to SensorTile.box and LSM6DSOX</li>
<li>Bug fixed in plot function:
<ul>
<li>Fix bug when SamplesPerTS=0</li>
<li>Solved issue when plotting labelled data</li>
</ul></li>
<li>Fixed acquisition stop/restart in cli example</li>
<li>Renamed reference to cartesiam - use NanoEdge term instead of Cartesiam</li>
<li>Reviewed Error/Log management</li>
<li>Updated dll (for Windows, Linux and Raspberry pi 3B)</li>
<li>Updated license schema</li>
</ul>
<h2 id="dependencies">Dependencies</h2>
<ul>
<li>All the python modules required by the SDK are shown in <strong>requirements.txt</strong> file.
<ul>
<li>If you are on a Linux or Raspberry machine:
<ul>
<li>Install manually the following libraries through the <strong>sudo apt-get install</strong> command:
<ul>
<li>libjpeg-dev</li>
<li>libbz2-dev</li>
<li>libatlas-base-dev</li>
<li>python3-tk</li>
</ul></li>
<li>Then launch the <strong>sudo pip install -r requirements.txt</strong> command<br />
</li>
</ul></li>
<li>On a Windows machine, just launch the <strong>pip install -r requirements.txt</strong> command</li>
</ul></li>
<li>In Linux or Raspberry environment, launch the scripts as root through <strong>sudo</strong> command</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section6" aria-hidden="true"> <label for="collapse-section6" aria-hidden="true">v1.3.0 / 5-Nov-2021</label>
<div>
<h2 id="main-changes-8">Main Changes</h2>
<h3 id="maintenance-release">Maintenance release</h3>
<ul>
<li><strong>Updated requirements.txt for Linux and Raspberry pi 3B compatibility</strong></li>
<li><strong>Bug fixed in plot function: avoid time shifting for sensors whose samples_per_ts is 1</strong></li>
<li>Reviewed Error/Log management</li>
<li>Automatically setup wav file channels number in hsdatalog_to_wav.py according to the n dimensions of the considered subsensor</li>
<li>AcquisitionInfo Model Updated (start/end acquisition json keys updated)</li>
<li>Updated dll (for Windows, Linux and Raspberry pi 3B)</li>
</ul>
<h2 id="dependencies-1">Dependencies</h2>
<ul>
<li>All the python modules required by the SDK are shown in <strong>requirements.txt</strong> file.
<ul>
<li>If you are on a Linux or Raspberry machine:
<ul>
<li>Install manually the following libraries through the <strong>sudo apt-get install</strong> command:
<ul>
<li>libjpeg-dev</li>
<li>libbz2-dev</li>
<li>libatlas-base-dev</li>
<li>python3-tk</li>
</ul></li>
<li>Then launch the <strong>sudo pip install -r requirements.txt</strong> command<br />
</li>
</ul></li>
<li>On a Windows machine, just launch the <strong>pip install -r requirements.txt</strong> command</li>
</ul></li>
<li>In Linux or Raspberry environment, launch the scripts as root through <strong>sudo</strong> command</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section5" aria-hidden="true"> <label for="collapse-section5" aria-hidden="true">v1.2.0 / 25-Jun-2021</label>
<div>
<h2 id="main-changes-9">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-6">Maintenance release and product update</h3>
<ul>
<li><strong>Updated requirements.txt - import missing</strong></li>
<li><strong>Hotfix in nb_hsdatalog_communication notebook</strong></li>
<li><strong>Removed MIC sensor_type constraints in hsdatalog_to_wav.py (conversion to .wav is available for all sensors)</strong></li>
<li><strong>Redesigned HSDLink com_manager definition and code cleaning</strong></li>
<li>Added missing commands in HSDLink and fixed missing import</li>
<li>Fixed wrong condition for warning message in cartesiam converter function in HSD_utils</li>
<li>Updated file_manager and DeviceConfig model in HSD</li>
<li>Bug fixed in HSD plot function</li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section4" aria-hidden="true"> <label for="collapse-section4" aria-hidden="true">v1.1.0 / 29-Jan-2021</label>
<div>
<h2 id="main-changes-10">Main Changes</h2>
<h3 id="maintenance-release-and-product-update-7">Maintenance release and product update</h3>
<ul>
<li><strong>Updated core module and code cleaning</strong></li>
<li>Add BSD 3 Clause license disclaimer</li>
<li>Fixed update device function in command manager (add tagConfig params)</li>
<li>Issue solved in set label HSDCmd</li>
<li><strong>Added new wav and to_unico converters</strong></li>
<li><strong>Updated hsdatalog_check_fake_data.py and hsdatalog_cli.py</strong></li>
</ul>
</div>
</div>
<div class="collapse">
<input type="checkbox" id="collapse-section3" aria-hidden="true"> <label for="collapse-section3" aria-hidden="true">v1.0.0 / 13-Nov-2020</label>
<div>
<h2 id="main-changes-11">Main Changes</h2>
<h3 id="first-official-release">First official release</h3>
</div>
</div>
</div>
</div>
<footer class="sticky">
<div class="columns">
<div class="column" style="width:95%;">
<p>For complete documentation, visit: <a href="https://www.st.com/en/embedded-software/fp-sns-datalog2.html">www.st.com</a></p>
</div><div class="column" style="width:5%;">
<p><abbr title="Based on template cx566953 version 2.0">Info</abbr></p>
</div>
</div>
</footer>
</body>
</html>

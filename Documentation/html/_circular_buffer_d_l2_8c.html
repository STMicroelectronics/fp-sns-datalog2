<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FP-SNS-DATALOG2: Middlewares/ST/CircularBufferDL2/CircularBufferDL2.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FP-SNS-DATALOG2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_circular_buffer_d_l2_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">CircularBufferDL2.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Definition of the CircularBuffer class for Datalog2. For more information look at the <a class="el" href="_circular_buffer_8h.html" title="Circular buffer implementation specialized for the producer / consumer design pattern....">CircularBuffer.h</a> file.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;CircularBufferDL2.h&quot;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
</div>
<p><a href="_circular_buffer_d_l2_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a96949d8155921e8de79ce0b322334e5c" id="r_a96949d8155921e8de79ce0b322334e5c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#a96949d8155921e8de79ce0b322334e5c">DL2_CHANNEL_SIZE</a>&#160;&#160;&#160;1U</td></tr>
<tr class="separator:a96949d8155921e8de79ce0b322334e5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a951a787a1f46d63b7a0f020c37a0d199" id="r_a951a787a1f46d63b7a0f020c37a0d199"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#a951a787a1f46d63b7a0f020c37a0d199">DL2_COUNTER_SIZE</a>&#160;&#160;&#160;4U</td></tr>
<tr class="separator:a951a787a1f46d63b7a0f020c37a0d199"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a40d8cc89391048bf1da08a9431002627" id="r_a40d8cc89391048bf1da08a9431002627"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#a40d8cc89391048bf1da08a9431002627">GetNewItem</a> (<a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *_this, <a class="el" href="_circular_buffer_8h.html#a4c472af5f135ad315c076ca67370c5c0">CircularBuffer</a> *cb, uint32_t cb_item_size, uint8_t ch_number)</td></tr>
<tr class="separator:a40d8cc89391048bf1da08a9431002627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23b38ef30e688bae9c3a6221c6d2e8e0" id="r_a23b38ef30e688bae9c3a6221c6d2e8e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#a23b38ef30e688bae9c3a6221c6d2e8e0">CBDL2_Alloc</a> (uint16_t item_count)</td></tr>
<tr class="separator:a23b38ef30e688bae9c3a6221c6d2e8e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5ea70585f1762a304f5d13f162f5f10" id="r_ae5ea70585f1762a304f5d13f162f5f10"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#ae5ea70585f1762a304f5d13f162f5f10">CBDL2_Init</a> (<a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *_this, void *p_items_buffer, uint32_t item_size, bool add_channel_to_buffer)</td></tr>
<tr class="separator:ae5ea70585f1762a304f5d13f162f5f10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94d783a26f7a553a8621221c78320b4b" id="r_a94d783a26f7a553a8621221c78320b4b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#a94d783a26f7a553a8621221c78320b4b">CBDL2_FillCurrentItem</a> (<a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *_this, uint8_t ch_number, uint8_t *p_buf, uint32_t size, bool *p_ready)</td></tr>
<tr class="separator:a94d783a26f7a553a8621221c78320b4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1b87bb85b4e480c043d0905619df6ff" id="r_ab1b87bb85b4e480c043d0905619df6ff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="_circular_buffer_d_l2_8c.html#ab1b87bb85b4e480c043d0905619df6ff">CBDL2_Free</a> (<a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *_this)</td></tr>
<tr class="separator:ab1b87bb85b4e480c043d0905619df6ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definition of the CircularBuffer class for Datalog2. For more information look at the <a class="el" href="_circular_buffer_8h.html" title="Circular buffer implementation specialized for the producer / consumer design pattern....">CircularBuffer.h</a> file. </p>
<dl class="section attention"><dt>Attention</dt><dd></dd></dl>
<p>Copyright (c) 2023 STMicroelectronics. All rights reserved.</p>
<p>This software is licensed under terms that can be found in the LICENSE file in the root directory of this software component. If no LICENSE file comes with this software, it is provided AS-IS. </p>

<p class="definition">Definition in file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a96949d8155921e8de79ce0b322334e5c" name="a96949d8155921e8de79ce0b322334e5c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96949d8155921e8de79ce0b322334e5c">&#9670;&#160;</a></span>DL2_CHANNEL_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DL2_CHANNEL_SIZE&#160;&#160;&#160;1U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00030">30</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<a id="a951a787a1f46d63b7a0f020c37a0d199" name="a951a787a1f46d63b7a0f020c37a0d199"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a951a787a1f46d63b7a0f020c37a0d199">&#9670;&#160;</a></span>DL2_COUNTER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DL2_COUNTER_SIZE&#160;&#160;&#160;4U</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00031">31</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a23b38ef30e688bae9c3a6221c6d2e8e0" name="a23b38ef30e688bae9c3a6221c6d2e8e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b38ef30e688bae9c3a6221c6d2e8e0">&#9670;&#160;</a></span>CBDL2_Alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> * CBDL2_Alloc </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>item_count</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Allocate an object of CircularBufferDL2 type. This allocator implement the singleton design pattern, so there is only one instance of circular buffer. A new allocated object must be initialized before use it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">[IN]</td><td>nItemCount specifies the maximum number of items that is possible to store in the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a pointer to new allocated circular buffer object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00033">33</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<a id="a94d783a26f7a553a8621221c78320b4b" name="a94d783a26f7a553a8621221c78320b4b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94d783a26f7a553a8621221c78320b4b">&#9670;&#160;</a></span>CBDL2_FillCurrentItem()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CBDL2_FillCurrentItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *&#160;</td>
          <td class="paramname"><em>_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>p_buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>p_ready</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enqueue data on a the buffer of the <a class="el" href="_circular_buffer_8h.html#a4b808203ab9e8eb625d44891ad38e096">CBItem</a> that is currently in use. When the buffer is full the function requests a new one (if available) and continue to copy the remaining data. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_this</td><td>[IN] specifies a pointer to a CircularBufferDL2 object. </td></tr>
    <tr><td class="paramname">ch_number</td><td>[IN]: channel number to be used </td></tr>
    <tr><td class="paramname">p_buf</td><td>[IN]: pointer to data to be enqueued </td></tr>
    <tr><td class="paramname">size</td><td>[IN]: length of data in bytes </td></tr>
    <tr><td class="paramname">p_ready</td><td>[OUT]: set to true if the Item is ready after filling </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">status</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00070">70</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<a id="ab1b87bb85b4e480c043d0905619df6ff" name="ab1b87bb85b4e480c043d0905619df6ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1b87bb85b4e480c043d0905619df6ff">&#9670;&#160;</a></span>CBDL2_Free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBDL2_Free </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *&#160;</td>
          <td class="paramname"><em>_this</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deallocate the CircularBufferDL2 object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_this</td><td>[IN] specifies a pointer to a CircularBufferDL2 object. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00131">131</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<a id="ae5ea70585f1762a304f5d13f162f5f10" name="ae5ea70585f1762a304f5d13f162f5f10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5ea70585f1762a304f5d13f162f5f10">&#9670;&#160;</a></span>CBDL2_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t CBDL2_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *&#160;</td>
          <td class="paramname"><em>_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>p_items_buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>item_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add_channel_to_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize a circular buffer object for Datalog2. The application allocate the data buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">_this</td><td>[IN] specifies a pointer to a CircularBufferDL2 object. </td></tr>
    <tr><td class="paramname">p_items_buffer</td><td>[IN] specifies the memory buffer where the data are stored. </td></tr>
    <tr><td class="paramname">item_size</td><td>[IN] specifies the size in byte of an item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SYS_NO_ERROR_CODE </dd></dl>

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00054">54</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
<a id="a40d8cc89391048bf1da08a9431002627" name="a40d8cc89391048bf1da08a9431002627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d8cc89391048bf1da08a9431002627">&#9670;&#160;</a></span>GetNewItem()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t GetNewItem </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___circular_buffer_d_l2.html">CircularBufferDL2</a> *&#160;</td>
          <td class="paramname"><em>_this</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_circular_buffer_8h.html#a4c472af5f135ad315c076ca67370c5c0">CircularBuffer</a> *&#160;</td>
          <td class="paramname"><em>cb</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>cb_item_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>ch_number</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_circular_buffer_d_l2_8c_source.html#l00141">141</a> of file <a class="el" href="_circular_buffer_d_l2_8c_source.html">CircularBufferDL2.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_18d39804a75e1fcb1deadc3198692f5c.html">Middlewares</a></li><li class="navelem"><a class="el" href="dir_0d4e7aba86dbe6d2cd1e6eea82503c8e.html">ST</a></li><li class="navelem"><a class="el" href="dir_b7790187be1d7281aa0dc7effab6320e.html">CircularBufferDL2</a></li><li class="navelem"><a class="el" href="_circular_buffer_d_l2_8c.html">CircularBufferDL2.c</a></li>
    <li class="footer">Generated on Tue Oct 10 2023 14:34:48 for FP-SNS-DATALOG2 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>

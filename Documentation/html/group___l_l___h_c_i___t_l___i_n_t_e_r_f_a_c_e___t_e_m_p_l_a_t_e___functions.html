<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.18"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FP-SNS-DATALOG2: Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">FP-SNS-DATALOG2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.18 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Exported Functions<div class="ingroups"><a class="el" href="group___l_o_w___l_e_v_e_l___i_n_t_e_r_f_a_c_e.html">LOW_LEVEL_INTERFACE</a> &raquo; <a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e.html">HCI_TL_INTERFACE</a> &raquo; <a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e.html">TEMPLATE</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gafae087f0e206de805dccb56c2376a39e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a> (void)</td></tr>
<tr class="memdesc:gafae087f0e206de805dccb56c2376a39e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by the user at the application level. E.g., in the following, it is provided an implementation example in the case of the SPI:  <a href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">More...</a><br /></td></tr>
<tr class="separator:gafae087f0e206de805dccb56c2376a39e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab7eba65ab1c4fd9ab887db5b40c9b6a9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gab7eba65ab1c4fd9ab887db5b40c9b6a9">hci_tl_lowlevel_isr</a> (void)</td></tr>
<tr class="memdesc:gab7eba65ab1c4fd9ab887db5b40c9b6a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">HCI Transport Layer Low Level Interrupt Service Routine. The Interrupt Service Routine must be called when the BlueNRG-MS reports a packet received or an event to the host through the BlueNRG-MS interrupt line. E.g. in case of data travelling over SPI.  <a href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gab7eba65ab1c4fd9ab887db5b40c9b6a9">More...</a><br /></td></tr>
<tr class="separator:gab7eba65ab1c4fd9ab887db5b40c9b6a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gafae087f0e206de805dccb56c2376a39e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafae087f0e206de805dccb56c2376a39e">&#9670;&nbsp;</a></span>hci_tl_lowlevel_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_tl_lowlevel_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by the user at the application level. E.g., in the following, it is provided an implementation example in the case of the SPI: </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code" href="structt_hci_i_o.html">tHciIO</a> fops;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register IO bus services</span></div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">Init</a>    = <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a435ddd720169a5a913b11509c9cf5f61">HCI_TL_SPI_Init</a>;</div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#a867df6ad85a7a36717a7ea140e583709">DeInit</a>  = <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aed80550e7c6ace87a4809d6884f1acc9">HCI_TL_SPI_DeInit</a>;</div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">Send</a>    = <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#acc1e23adbeae1895b954f3aa5f17fe2d">HCI_TL_SPI_Send</a>;</div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">Receive</a> = <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aa7394b533569d3fa803b71b2694e0583">HCI_TL_SPI_Receive</a>;</div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">Reset</a>   = <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#adc3d48c5e79e7578cc8e2ea5561a366a">HCI_TL_SPI_Reset</a>;</div>
<div class="line">  fops.<a class="code" href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">GetTick</a> = BSP_GetTick;</div>
<div class="line"> </div>
<div class="line">  <a class="code" href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a> (&amp;fops);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register event irq handler</span></div>
<div class="line">  HAL_EXTI_GetHandle(&amp;hexti0, EXTI_LINE_0);</div>
<div class="line">  HAL_EXTI_RegisterCallback(&amp;hexti0, HAL_EXTI_COMMON_CB_ID, <a class="code" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gab7eba65ab1c4fd9ab887db5b40c9b6a9">hci_tl_lowlevel_isr</a>);</div>
<div class="line">  HAL_NVIC_SetPriority(EXTI0_IRQn, 0, 0);</div>
<div class="line">  HAL_NVIC_EnableIRQ(EXTI0_IRQn);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td>Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by the user at the application level. E.g., in the following, it is provided an implementation example in the case of the SPI:</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab7eba65ab1c4fd9ab887db5b40c9b6a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab7eba65ab1c4fd9ab887db5b40c9b6a9">&#9670;&nbsp;</a></span>hci_tl_lowlevel_isr()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_tl_lowlevel_isr </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HCI Transport Layer Low Level Interrupt Service Routine. The Interrupt Service Routine must be called when the BlueNRG-MS reports a packet received or an event to the host through the BlueNRG-MS interrupt line. E.g. in case of data travelling over SPI. </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gab7eba65ab1c4fd9ab887db5b40c9b6a9">hci_tl_lowlevel_isr</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">while</span>(<a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a11bca209e47d911a5a9b45548aa61638">IsDataAvailable</a>())</div>
<div class="line">  {</div>
<div class="line">    <a class="code" href="group___b_a_s_i_c___functions.html#ga6e9d50ca0701f3536aaf1f501ea77e28">hci_notify_asynch_evt</a>(NULL);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p> where <a class="el" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a11bca209e47d911a5a9b45548aa61638" title="Reports if the BlueNRG has data for the host micro.">IsDataAvailable()</a> checks the status of the SPI external interrupt pin </p><div class="fragment"><div class="line"><span class="keyword">static</span> int32_t <a class="code" href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a11bca209e47d911a5a9b45548aa61638">IsDataAvailable</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">return</span> (HAL_GPIO_ReadPin(HCI_TL_SPI_EXTI_PORT, HCI_TL_SPI_EXTI_PIN) == GPIO_PIN_SET);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<div class="ttc" id="astructt_hci_i_o_html_ae51783266a41ecc94ab3d5c524c29b92"><div class="ttname"><a href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">tHciIO::GetTick</a></div><div class="ttdeci">int32_t(* GetTick)(void)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:90</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_adc3d48c5e79e7578cc8e2ea5561a366a"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#adc3d48c5e79e7578cc8e2ea5561a366a">HCI_TL_SPI_Reset</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Reset(void)</div><div class="ttdoc">Reset BlueNRG module.</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:129</div></div>
<div class="ttc" id="agroup___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions_html_gafae087f0e206de805dccb56c2376a39e"><div class="ttname"><a href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a></div><div class="ttdeci">void hci_tl_lowlevel_init(void)</div><div class="ttdoc">Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by ...</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:24</div></div>
<div class="ttc" id="astructt_hci_i_o_html_aba7b3991d980fe93efa0fcf2dd40e133"><div class="ttname"><a href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">tHciIO::Init</a></div><div class="ttdeci">int32_t(* Init)(void *pConf)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:84</div></div>
<div class="ttc" id="agroup___b_a_s_i_c___functions_html_ga6e9d50ca0701f3536aaf1f501ea77e28"><div class="ttname"><a href="group___b_a_s_i_c___functions.html#ga6e9d50ca0701f3536aaf1f501ea77e28">hci_notify_asynch_evt</a></div><div class="ttdeci">int32_t hci_notify_asynch_evt(void *pdata)</div><div class="ttdoc">Interrupt service routine that must be called when the BlueNRG reports a packet received or an event ...</div><div class="ttdef"><b>Definition:</b> hci_tl.c:343</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_acc1e23adbeae1895b954f3aa5f17fe2d"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#acc1e23adbeae1895b954f3aa5f17fe2d">HCI_TL_SPI_Send</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Send(uint8_t *buffer, uint16_t size)</div><div class="ttdoc">Writes data from local buffer to SPI.</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:216</div></div>
<div class="ttc" id="agroup___b_a_s_i_c___functions_html_ga7750672747cd363ecce3fd8215671d8e"><div class="ttname"><a href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a></div><div class="ttdeci">void hci_register_io_bus(tHciIO *fops)</div><div class="ttdoc">Register IO bus services. The tHciIO structure is initialized here by assigning to each structure fie...</div><div class="ttdef"><b>Definition:</b> hci_tl.c:164</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_a11bca209e47d911a5a9b45548aa61638"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a11bca209e47d911a5a9b45548aa61638">IsDataAvailable</a></div><div class="ttdeci">int32_t IsDataAvailable(void)</div><div class="ttdoc">Reports if the BlueNRG has data for the host micro.</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:311</div></div>
<div class="ttc" id="astructt_hci_i_o_html_abb84817689a196172842954ee370301f"><div class="ttname"><a href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">tHciIO::Receive</a></div><div class="ttdeci">int32_t(* Receive)(uint8_t *, uint16_t)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:87</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_aed80550e7c6ace87a4809d6884f1acc9"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aed80550e7c6ace87a4809d6884f1acc9">HCI_TL_SPI_DeInit</a></div><div class="ttdeci">int32_t HCI_TL_SPI_DeInit(void)</div><div class="ttdoc">DeInitializes the peripherals communication with the BlueNRG Expansion Board (via SPI,...</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:118</div></div>
<div class="ttc" id="astructt_hci_i_o_html_a867df6ad85a7a36717a7ea140e583709"><div class="ttname"><a href="structt_hci_i_o.html#a867df6ad85a7a36717a7ea140e583709">tHciIO::DeInit</a></div><div class="ttdeci">int32_t(* DeInit)(void)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:85</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_a435ddd720169a5a913b11509c9cf5f61"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a435ddd720169a5a913b11509c9cf5f61">HCI_TL_SPI_Init</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Init(void *pConf)</div><div class="ttdoc">Initializes the peripherals communication with the BlueNRG Expansion Board (via SPI,...</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:80</div></div>
<div class="ttc" id="astructt_hci_i_o_html_a09c5b0a2e9137ccaf6ade6b60cbf1543"><div class="ttname"><a href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">tHciIO::Reset</a></div><div class="ttdeci">int32_t(* Reset)(void)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:86</div></div>
<div class="ttc" id="agroup___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions_html_gab7eba65ab1c4fd9ab887db5b40c9b6a9"><div class="ttname"><a href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gab7eba65ab1c4fd9ab887db5b40c9b6a9">hci_tl_lowlevel_isr</a></div><div class="ttdeci">void hci_tl_lowlevel_isr(void)</div><div class="ttdoc">HCI Transport Layer Low Level Interrupt Service Routine. The Interrupt Service Routine must be called...</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:47</div></div>
<div class="ttc" id="astructt_hci_i_o_html"><div class="ttname"><a href="structt_hci_i_o.html">tHciIO</a></div><div class="ttdoc">Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...</div><div class="ttdef"><b>Definition:</b> hci_tl.h:83</div></div>
<div class="ttc" id="a_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_aa7394b533569d3fa803b71b2694e0583"><div class="ttname"><a href="_projects_2_s_t_8box_p_r_o_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aa7394b533569d3fa803b71b2694e0583">HCI_TL_SPI_Receive</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Receive(uint8_t *buffer, uint16_t size)</div><div class="ttdoc">Reads from BlueNRG SPI buffer and store data into local buffer.</div><div class="ttdef"><b>Definition:</b> hci_tl_interface.c:151</div></div>
<div class="ttc" id="astructt_hci_i_o_html_ab09fbb98743e4481059db8a25a18ed6f"><div class="ttname"><a href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">tHciIO::Send</a></div><div class="ttdeci">int32_t(* Send)(uint8_t *, uint16_t)</div><div class="ttdef"><b>Definition:</b> hci_tl.h:88</div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Oct 3 2023 17:27:33 for FP-SNS-DATALOG2 by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.18
</small></address>
</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FP-SNS-DATALOG2: Exported Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FP-SNS-DATALOG2
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group___t_e_m_p_l_a_t_e___functions.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Exported Functions<div class="ingroups"><a class="el" href="group___l_o_w___l_e_v_e_l___i_n_t_e_r_f_a_c_e.html">LOW_LEVEL_INTERFACE</a> &raquo; <a class="el" href="group___l_l___h_c_i___t_l.html">HCI_TL</a> &raquo; <a class="el" href="group___t_e_m_p_l_a_t_e.html">TEMPLATE</a></div></div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga52f75236081b1d328eea088fd8907bf7" id="r_ga52f75236081b1d328eea088fd8907bf7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#ga52f75236081b1d328eea088fd8907bf7">hci_send_req</a> (struct <a class="el" href="structhci__request.html">hci_request</a> *r, BOOL async)</td></tr>
<tr class="memdesc:ga52f75236081b1d328eea088fd8907bf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an HCI request either in synchronous or in asynchronous mode.  <br /></td></tr>
<tr class="separator:ga52f75236081b1d328eea088fd8907bf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7750672747cd363ecce3fd8215671d8e" id="r_ga7750672747cd363ecce3fd8215671d8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a> (<a class="el" href="structt_hci_i_o.html">tHciIO</a> *fops)</td></tr>
<tr class="memdesc:ga7750672747cd363ecce3fd8215671d8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register IO bus services. The <a class="el" href="structt_hci_i_o.html" title="Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...">tHciIO</a> structure is initialized here by assigning to each structure field a function for managing the IO Bus. E.g. In case the user needs to register the SPI bus services:  <br /></td></tr>
<tr class="separator:ga7750672747cd363ecce3fd8215671d8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e9d50ca0701f3536aaf1f501ea77e28" id="r_ga6e9d50ca0701f3536aaf1f501ea77e28"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#ga6e9d50ca0701f3536aaf1f501ea77e28">hci_notify_asynch_evt</a> (void *pdata)</td></tr>
<tr class="memdesc:ga6e9d50ca0701f3536aaf1f501ea77e28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interrupt service routine that must be called when the BlueNRG reports a packet received or an event to the host through the BlueNRG-MS interrupt line.  <br /></td></tr>
<tr class="separator:ga6e9d50ca0701f3536aaf1f501ea77e28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f170cfd3447097f653c895fb415f018" id="r_ga7f170cfd3447097f653c895fb415f018"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#ga7f170cfd3447097f653c895fb415f018">hci_resume_flow</a> (void)</td></tr>
<tr class="memdesc:ga7f170cfd3447097f653c895fb415f018"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function resume the User Event Flow which has been stopped on return from UserEvtRx() when the User Event has not been processed.  <br /></td></tr>
<tr class="separator:ga7f170cfd3447097f653c895fb415f018"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga402aa7ea4cded694b7865ad909b1149f" id="r_ga402aa7ea4cded694b7865ad909b1149f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#ga402aa7ea4cded694b7865ad909b1149f">hci_cmd_resp_wait</a> (uint32_t timeout)</td></tr>
<tr class="memdesc:ga402aa7ea4cded694b7865ad909b1149f"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when an ACI/HCI command is sent and the response is waited from the BLE core. The application shall implement a mechanism to not return from this function until the waited event is received. This is notified to the application with <a class="el" href="group___b_a_s_i_c___functions.html#gaac233ee21a7a8bdc1245453d0aba0cd5" title="This function is called when an ACI/HCI command is sent and the response is received from the BLE cor...">hci_cmd_resp_release()</a>. It is called from the same context the HCI command has been sent.  <br /></td></tr>
<tr class="separator:ga402aa7ea4cded694b7865ad909b1149f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac233ee21a7a8bdc1245453d0aba0cd5" id="r_gaac233ee21a7a8bdc1245453d0aba0cd5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___t_e_m_p_l_a_t_e___functions.html#gaac233ee21a7a8bdc1245453d0aba0cd5">hci_cmd_resp_release</a> (uint32_t flag)</td></tr>
<tr class="memdesc:gaac233ee21a7a8bdc1245453d0aba0cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is called when an ACI/HCI command is sent and the response is received from the BLE core.  <br /></td></tr>
<tr class="separator:gaac233ee21a7a8bdc1245453d0aba0cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaac233ee21a7a8bdc1245453d0aba0cd5" name="gaac233ee21a7a8bdc1245453d0aba0cd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaac233ee21a7a8bdc1245453d0aba0cd5">&#9670;&#160;</a></span>hci_cmd_resp_release()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_cmd_resp_release </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>flag</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when an ACI/HCI command is sent and the response is received from the BLE core. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">flag</td><td>Release flag </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html#l00097">97</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
<a id="ga402aa7ea4cded694b7865ad909b1149f" name="ga402aa7ea4cded694b7865ad909b1149f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga402aa7ea4cded694b7865ad909b1149f">&#9670;&#160;</a></span>hci_cmd_resp_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_cmd_resp_wait </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is called when an ACI/HCI command is sent and the response is waited from the BLE core. The application shall implement a mechanism to not return from this function until the waited event is received. This is notified to the application with <a class="el" href="group___b_a_s_i_c___functions.html#gaac233ee21a7a8bdc1245453d0aba0cd5" title="This function is called when an ACI/HCI command is sent and the response is received from the BLE cor...">hci_cmd_resp_release()</a>. It is called from the same context the HCI command has been sent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>Waiting timeout </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html#l00090">90</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
<a id="ga6e9d50ca0701f3536aaf1f501ea77e28" name="ga6e9d50ca0701f3536aaf1f501ea77e28"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e9d50ca0701f3536aaf1f501ea77e28">&#9670;&#160;</a></span>hci_notify_asynch_evt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hci_notify_asynch_evt </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pdata</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Interrupt service routine that must be called when the BlueNRG reports a packet received or an event to the host through the BlueNRG-MS interrupt line. </p>
<p>Interrupt service routine that must be called when the BlueNRG reports a packet received or an event to the host through the BlueNRG interrupt line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdata</td><td>Packet or event pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>packet/event processed, 1: no packet/event processed</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdata</td><td>Packet or event pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>packet/event processed, 1: no packet/event processed</td></tr>
  </table>
  </dd>
</dl>
<p>Interrupt service routine that must be called when the BlueNRG reports a packet received or an event to the host through the BlueNRG-MS interrupt line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdata</td><td>Packet or event pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>packet/event processed, 1: no packet/event processed </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html#l00343">343</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
<a id="ga7750672747cd363ecce3fd8215671d8e" name="ga7750672747cd363ecce3fd8215671d8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7750672747cd363ecce3fd8215671d8e">&#9670;&#160;</a></span>hci_register_io_bus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_register_io_bus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structt_hci_i_o.html">tHciIO</a> *&#160;</td>
          <td class="paramname"><em>fops</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register IO bus services. The <a class="el" href="structt_hci_i_o.html" title="Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...">tHciIO</a> structure is initialized here by assigning to each structure field a function for managing the IO Bus. E.g. In case the user needs to register the SPI bus services: </p>
<p>Register IO bus services. The <a class="el" href="structt_hci_i_o.html" title="Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...">tHciIO</a> structure is initialized here by assigning to each structure field a <br  />
 function for managing the IO Bus. E.g. In case the user needs to register the SPI bus services:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a>(<a class="code hl_struct" href="structt_hci_i_o.html">tHciIO</a>* fops)</div>
<div class="line">{</div>
<div class="line">  hciContext.io.Init    = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">Init</a>;</div>
<div class="line">  hciContext.io.Receive = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">Receive</a>;</div>
<div class="line">  hciContext.io.Send    = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">Send</a>;</div>
<div class="line">  hciContext.io.GetTick = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">GetTick</a>;</div>
<div class="line">  hciContext.io.Reset   = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">Reset</a>;</div>
<div class="line">}</div>
<div class="ttc" id="agroup___b_a_s_i_c___functions_html_ga7750672747cd363ecce3fd8215671d8e"><div class="ttname"><a href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a></div><div class="ttdeci">void hci_register_io_bus(tHciIO *fops)</div><div class="ttdoc">Register IO bus services. The tHciIO structure is initialized here by assigning to each structure fie...</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html#l00164">hci_tl.c:164</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html"><div class="ttname"><a href="structt_hci_i_o.html">tHciIO</a></div><div class="ttdoc">Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00082">hci_tl.h:83</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_a09c5b0a2e9137ccaf6ade6b60cbf1543"><div class="ttname"><a href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">tHciIO::Reset</a></div><div class="ttdeci">int32_t(* Reset)(void)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00086">hci_tl.h:86</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_ab09fbb98743e4481059db8a25a18ed6f"><div class="ttname"><a href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">tHciIO::Send</a></div><div class="ttdeci">int32_t(* Send)(uint8_t *, uint16_t)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00088">hci_tl.h:88</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_aba7b3991d980fe93efa0fcf2dd40e133"><div class="ttname"><a href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">tHciIO::Init</a></div><div class="ttdeci">int32_t(* Init)(void *pConf)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00084">hci_tl.h:84</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_abb84817689a196172842954ee370301f"><div class="ttname"><a href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">tHciIO::Receive</a></div><div class="ttdeci">int32_t(* Receive)(uint8_t *, uint16_t)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00087">hci_tl.h:87</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_ae51783266a41ecc94ab3d5c524c29b92"><div class="ttname"><a href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">tHciIO::GetTick</a></div><div class="ttdeci">int32_t(* GetTick)(void)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00090">hci_tl.h:90</a></div></div>
</div><!-- fragment --><p> where:</p><ul>
<li>hciContext is a static variable defined in the hci_tl.c</li>
<li>all fops fields are initialized, at user level (hci_tl_interface.c file), in the void <a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e" title="Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by ...">hci_tl_lowlevel_init(void)</a> function. All the functions for managing the initialization, de-initialization, data sending/receiving, ... must be implemented by the user. e.g. <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_struct" href="structt_hci_i_o.html">tHciIO</a> fops;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register IO bus services</span></div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">Init</a>    = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a435ddd720169a5a913b11509c9cf5f61">HCI_TL_SPI_Init</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#a867df6ad85a7a36717a7ea140e583709">DeInit</a>  = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aed80550e7c6ace87a4809d6884f1acc9">HCI_TL_SPI_DeInit</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">Send</a>    = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#acc1e23adbeae1895b954f3aa5f17fe2d">HCI_TL_SPI_Send</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">Receive</a> = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aa7394b533569d3fa803b71b2694e0583">HCI_TL_SPI_Receive</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">Reset</a>   = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#adc3d48c5e79e7578cc8e2ea5561a366a">HCI_TL_SPI_Reset</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">GetTick</a> = BSP_GetTick;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_function" href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a> (&amp;fops);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register event irq handler</span></div>
<div class="line">  ... ... ...</div>
<div class="line">}</div>
<div class="ttc" id="a_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_a435ddd720169a5a913b11509c9cf5f61"><div class="ttname"><a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a435ddd720169a5a913b11509c9cf5f61">HCI_TL_SPI_Init</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Init(void *pConf)</div><div class="ttdoc">Initializes the peripherals communication with the BlueNRG Expansion Board (via SPI,...</div><div class="ttdef"><b>Definition</b> <a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_src_2hci__tl__interface_8c_source.html#l00078">hci_tl_interface.c:78</a></div></div>
<div class="ttc" id="a_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_aa7394b533569d3fa803b71b2694e0583"><div class="ttname"><a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aa7394b533569d3fa803b71b2694e0583">HCI_TL_SPI_Receive</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Receive(uint8_t *buffer, uint16_t size)</div><div class="ttdoc">Reads from BlueNRG SPI buffer and store data into local buffer.</div><div class="ttdef"><b>Definition</b> <a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_src_2hci__tl__interface_8c_source.html#l00151">hci_tl_interface.c:151</a></div></div>
<div class="ttc" id="a_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_acc1e23adbeae1895b954f3aa5f17fe2d"><div class="ttname"><a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#acc1e23adbeae1895b954f3aa5f17fe2d">HCI_TL_SPI_Send</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Send(uint8_t *buffer, uint16_t size)</div><div class="ttdoc">Writes data from local buffer to SPI.</div><div class="ttdef"><b>Definition</b> <a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_src_2hci__tl__interface_8c_source.html#l00218">hci_tl_interface.c:218</a></div></div>
<div class="ttc" id="a_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_adc3d48c5e79e7578cc8e2ea5561a366a"><div class="ttname"><a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#adc3d48c5e79e7578cc8e2ea5561a366a">HCI_TL_SPI_Reset</a></div><div class="ttdeci">int32_t HCI_TL_SPI_Reset(void)</div><div class="ttdoc">Reset BlueNRG module.</div><div class="ttdef"><b>Definition</b> <a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_src_2hci__tl__interface_8c_source.html#l00129">hci_tl_interface.c:129</a></div></div>
<div class="ttc" id="a_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h_html_aed80550e7c6ace87a4809d6884f1acc9"><div class="ttname"><a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aed80550e7c6ace87a4809d6884f1acc9">HCI_TL_SPI_DeInit</a></div><div class="ttdeci">int32_t HCI_TL_SPI_DeInit(void)</div><div class="ttdoc">DeInitializes the peripherals communication with the BlueNRG Expansion Board (via SPI,...</div><div class="ttdef"><b>Definition</b> <a href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_src_2hci__tl__interface_8c_source.html#l00118">hci_tl_interface.c:118</a></div></div>
<div class="ttc" id="agroup___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions_html_gafae087f0e206de805dccb56c2376a39e"><div class="ttname"><a href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a></div><div class="ttdeci">void hci_tl_lowlevel_init(void)</div><div class="ttdoc">Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by ...</div><div class="ttdef"><b>Definition</b> <a href="_middlewares_2_s_t_2_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl__interface_8c_source.html#l00024">hci_tl_interface.c:24</a></div></div>
<div class="ttc" id="astructt_hci_i_o_html_a867df6ad85a7a36717a7ea140e583709"><div class="ttname"><a href="structt_hci_i_o.html#a867df6ad85a7a36717a7ea140e583709">tHciIO::DeInit</a></div><div class="ttdeci">int32_t(* DeInit)(void)</div><div class="ttdef"><b>Definition</b> <a href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8h_source.html#l00085">hci_tl.h:85</a></div></div>
</div><!-- fragment --></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fops</td><td>The HCI IO structure managing the IO BUS </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Register IO bus services. The <a class="el" href="structt_hci_i_o.html" title="Structure used to manage the BUS IO operations. All the structure fields will point to functions defi...">tHciIO</a> structure is initialized here by assigning to each structure field a <br  />
 function for managing the IO Bus. E.g. In case the user needs to register the SPI bus services:</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a>(<a class="code hl_struct" href="structt_hci_i_o.html">tHciIO</a>* fops)</div>
<div class="line">{</div>
<div class="line">  hciContext.io.Init    = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">Init</a>;</div>
<div class="line">  hciContext.io.Receive = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">Receive</a>;</div>
<div class="line">  hciContext.io.Send    = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">Send</a>;</div>
<div class="line">  hciContext.io.GetTick = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">GetTick</a>;</div>
<div class="line">  hciContext.io.Reset   = fops-&gt;<a class="code hl_variable" href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">Reset</a>;</div>
<div class="line">}</div>
</div><!-- fragment --><p> where:</p><ul>
<li>hciContext is a static variable defined in the hci_tl.c</li>
<li>all fops fields are initialized, at user level (hci_tl_interface.c file), in the void <a class="el" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e" title="Register hci_tl_interface IO bus services and the IRQ handlers. This function must be implemented by ...">hci_tl_lowlevel_init(void)</a> function. All the functions for managing the initialization, de-initialization, data sending/receiving, ... must be implemented by the user. e.g. <div class="fragment"><div class="line"><span class="keywordtype">void</span> <a class="code hl_function" href="group___l_l___h_c_i___t_l___i_n_t_e_r_f_a_c_e___t_e_m_p_l_a_t_e___functions.html#gafae087f0e206de805dccb56c2376a39e">hci_tl_lowlevel_init</a>(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">  <a class="code hl_struct" href="structt_hci_i_o.html">tHciIO</a> fops;</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register IO bus services</span></div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#aba7b3991d980fe93efa0fcf2dd40e133">Init</a>    = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#a435ddd720169a5a913b11509c9cf5f61">HCI_TL_SPI_Init</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#a867df6ad85a7a36717a7ea140e583709">DeInit</a>  = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aed80550e7c6ace87a4809d6884f1acc9">HCI_TL_SPI_DeInit</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#ab09fbb98743e4481059db8a25a18ed6f">Send</a>    = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#acc1e23adbeae1895b954f3aa5f17fe2d">HCI_TL_SPI_Send</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#abb84817689a196172842954ee370301f">Receive</a> = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#aa7394b533569d3fa803b71b2694e0583">HCI_TL_SPI_Receive</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#a09c5b0a2e9137ccaf6ade6b60cbf1543">Reset</a>   = <a class="code hl_function" href="_projects_2_s_t_m32_l4_r9_z_i-_s_t_w_i_n_2_applications_2_d_a_t_a_l_o_g2_2_core_2_inc_2hci__tl__interface_8h.html#adc3d48c5e79e7578cc8e2ea5561a366a">HCI_TL_SPI_Reset</a>;</div>
<div class="line">  fops.<a class="code hl_variable" href="structt_hci_i_o.html#ae51783266a41ecc94ab3d5c524c29b92">GetTick</a> = BSP_GetTick;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_function" href="group___b_a_s_i_c___functions.html#ga7750672747cd363ecce3fd8215671d8e">hci_register_io_bus</a> (&amp;fops);</div>
<div class="line"> </div>
<div class="line">  <span class="comment">//Register event irq handler</span></div>
<div class="line">  ... ... ...</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fops</td><td>The HCI IO structure managing the IO BUS </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html#l00164">164</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
<a id="ga7f170cfd3447097f653c895fb415f018" name="ga7f170cfd3447097f653c895fb415f018"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7f170cfd3447097f653c895fb415f018">&#9670;&#160;</a></span>hci_resume_flow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hci_resume_flow </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function resume the User Event Flow which has been stopped on return from UserEvtRx() when the User Event has not been processed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html#l00083">83</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_template_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
<a id="ga52f75236081b1d328eea088fd8907bf7" name="ga52f75236081b1d328eea088fd8907bf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52f75236081b1d328eea088fd8907bf7">&#9670;&#160;</a></span>hci_send_req()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hci_send_req </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhci__request.html">hci_request</a> *&#160;</td>
          <td class="paramname"><em>r</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BOOL&#160;</td>
          <td class="paramname"><em>async</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send an HCI request either in synchronous or in asynchronous mode. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>The HCI request </td></tr>
    <tr><td class="paramname">async</td><td>TRUE if asynchronous mode, FALSE if synchronous mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">int</td><td>0 when success, -1 when failure </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html#l00174">174</a> of file <a class="el" href="_blue_n_r_g-2_2hci_2hci__tl__patterns_2_basic_2hci__tl_8c_source.html">hci_tl.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Oct 10 2023 14:34:53 for FP-SNS-DATALOG2 by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
